<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Hồ Sơ Cá Nhân</title>
    <!-- Font Awesome cho icon -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <!-- Google Fonts: Roboto -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Global Styles */
      body {
        margin: 0;
        padding: 0;
        font-family: "Roboto", sans-serif;
        background-color: #f5f5f5;
        color: #333;
      }

      .profile-header {
        background: linear-gradient(90deg, #8e44ad, #f39c12);
        color: #fff;
        padding: 30px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
      }

      .profile-info {
        display: flex;
        align-items: center;
      }

      /* Avatar Wrapper với hiệu ứng thu phóng và viền */
      .avatar-wrapper {
        position: relative;
        width: 70px;
        height: 70px;
        display: inline-block;
        margin-right: 10px;
      }
      .avatar-wrapper img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        border: 2px solid #fff;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .avatar-wrapper:hover img {
        transform: scale(1.1);
        box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
      }

      /* Trạng thái online */
      .online-status {
        position: absolute;
        width: 12px;
        height: 12px;
        background: #2ecc71;
        border: 2px solid #fff;
        border-radius: 50%;
        bottom: 0;
        right: 0;
        animation: pulse 2s infinite;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.2);
          opacity: 0.7;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .profile-info h2 {
        margin: 0;
        font-size: 20px;
      }

      /* Logo VIP chuyên nghiệp hơn */
      .vip-badge {
        background-color: #e67e22;
        color: #fff;
        padding: 4px 10px;
        border-radius: 15px;
        font-weight: bold;
        margin-left: 8px;
        font-size: 14px;
        display: flex;
        align-items: center;
      }
      .vip-badge i {
        margin-right: 5px;
      }

      /* Hiệu ứng xoay cho cài đặt */
      .profile-header i {
        transition: transform 0.3s ease;
      }
      .profile-header i:hover {
        transform: rotate(90deg);
      }

      /* Actions */
      .actions {
        display: flex;
        justify-content: space-around;
        margin: 20px 15px;
      }
      .actions button {
        background-color: #3498db;
        color: #fff;
        padding: 12px 24px;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
        font-size: 16px;
      }
      .actions button:hover {
        background-color: #2980b9;
        transform: scale(1.05);
      }
      .actions button i {
        margin-right: 8px;
      }

      /* Wallet Section */
      .wallet {
        background: #fff;
        padding: 20px;
        margin: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border-top: 3px solid #8e44ad;
      }
      .wallet .balance {
        display: flex;
        justify-content: space-between;
        font-size: 20px;
        font-weight: 700;
        color: #8e44ad;
      }
      .wallet .balance .amount {
        display: flex;
        align-items: center;
      }
      .wallet .balance .amount i {
        margin-left: 8px;
        cursor: pointer;
        transition: transform 0.3s ease;
      }
      .wallet .balance .amount i:hover {
        transform: rotate(360deg);
      }
      /* Đổi màu số liệu: Số dư với màu xanh lam, Điểm tín nhiệm với màu tím */
      .green {
        color: #00806e;
      }
      .red {
        color: #00806e;
      }

      /* Deposit Information Section (ẩn mặc định) */
      .deposit-info {
        background: #fff;
        padding: 20px;
        margin: 15px;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border-top: 3px solid #3498db;
        display: none;
      }
      .deposit-info h3 {
        margin-top: 0;
        font-size: 20px;
        color: #3498db;
      }
      .deposit-info .payment-option {
        margin-bottom: 20px;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
      }
      .deposit-info .payment-option:last-child {
        border-bottom: none;
        margin-bottom: 0;
      }
      .deposit-info .payment-option a {
        font-size: 16px;
        color: #3498db;
        text-decoration: none;
        cursor: pointer;
      }
      .deposit-info .payment-option a:hover {
        text-decoration: underline;
      }
      .deposit-info .payment-details {
        margin-top: 10px;
        display: none;
      }
      .deposit-info .payment-details p {
        font-size: 16px;
        margin: 8px 0;
      }
      .deposit-info .payment-details button {
        background-color: #8e44ad;
        color: #fff;
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 14px;
        margin-left: 10px;
        transition: background-color 0.3s ease;
      }
      .deposit-info .payment-details button:hover {
        background-color: #732d91;
      }

      /* Features Section */
      .features {
        background: #fff;
        padding: 20px;
        margin: 15px;
        border-radius: 10px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        border-top: 3px solid #f39c12;
      }
      .feature-item {
        display: flex;
        align-items: center;
        padding: 15px;
        background-color: #f9f9f9;
        border-radius: 8px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.3s ease;
      }
      .feature-item:hover {
        background-color: #ececec;
        transform: translateY(-3px);
      }
      .feature-item i {
        font-size: 22px;
        color: #8e44ad;
        margin-right: 10px;
      }

      .load-button {
        display: block;
        width: 80%;
        margin: 20px auto;
        padding: 10px;
        background-color: #3498db;
        color: #fff;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        text-align: center;
        font-size: 16px;
        transition: background-color 0.3s ease;
      }
      .load-button:hover {
        background-color: #2980b9;
      }

      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.4);
      }
      .modal-content {
        background-color: #fff;
        margin: 10% auto;
        padding: 20px;
        border-radius: 10px;
        max-width: 500px;
        position: relative;
      }
      .close {
        position: absolute;
        top: 10px;
        right: 20px;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- Header with upgraded avatar -->
    <div class="profile-header">
      <div class="profile-info">
        <div class="avatar-wrapper">
          <img
            src="https://i.ibb.co/D9pv4B0/photo-269-23-06-2024-17-51-29-Sao-ch-p.jpg"
            alt="Avatar"
          />
          <span class="online-status"></span>
        </div>
        <h2>
          Lehuykhanh
          <span class="vip-badge"><i class="fas fa-crown"></i> VIP 1</span>
        </h2>
      </div>
      <i class="fas fa-cog"></i>
    </div>

    <!-- Actions: Deposit and Withdraw buttons -->
    <div class="actions">
      <button id="depositBtn">
        <i class="fas fa-plus-circle"></i> Nạp tiền
      </button>
      <button id="withdrawBtn">
        <i class="fas fa-minus-circle"></i> Rút tiền
      </button>
    </div>

    <!-- Wallet Section with icons for balance and trust points -->
    <div class="wallet">
      <div class="balance">
        <div class="amount">
          <span
            ><i class="fas fa-wallet"></i> Số dư:
            <strong class="green">1500</strong></span
          >
          <i class="fas fa-sync-alt" onclick="refreshBalance()"></i>
        </div>
        <div class="amount">
          <span
            ><i class="fas fa-star"></i> Điểm tín nhiệm:
            <strong class="red">100</strong></span
          >
          <i class="fas fa-sync-alt" onclick="refreshTrustPoints()"></i>
        </div>
      </div>
    </div>

    <!-- Deposit Information Section (hidden by default) -->
    <div class="deposit-info" id="depositContainer">
      <h3>Chọn Hình Thức Thanh Toán</h3>
      <!-- Option 1: Thanh toán qua Tài Khoản Việt -->
      <div class="payment-option">
        <a onclick="showPaymentForm('viet')">Thanh toán qua Tài Khoản Việt</a>
        <div class="payment-details" id="vietDetails">
          <p>
            <strong>Tên tài khoản:</strong>
            <span id="vietAccountName">Nguyễn Văn A</span>
            <button onclick="copyToClipboard('vietAccountName')">Copy</button>
          </p>
          <p>
            <strong>Số tài khoản:</strong>
            <span id="vietAccountNumber">123456789</span>
            <button onclick="copyToClipboard('vietAccountNumber')">Copy</button>
          </p>
          <p>
            <strong>Ngân hàng:</strong>
            <span id="vietBank">Vietcombank</span>
            <button onclick="copyToClipboard('vietBank')">Copy</button>
          </p>
          <p>
            <strong>Email:</strong>
            <span id="vietEmail">example@gmail.com</span>
            <button onclick="copyToClipboard('vietEmail')">Copy</button>
          </p>
          <p>
            <strong>Số điện thoại:</strong>
            <span id="vietPhone">0123456789</span>
            <button onclick="copyToClipboard('vietPhone')">Copy</button>
          </p>
        </div>
      </div>

      <!-- Option 2: Thanh toán qua Ngân hàng Úc (NAB) -->
      <div class="payment-option">
        <a onclick="showPaymentForm('auc')"
          >Thanh toán qua Ngân hàng Úc (NAB)</a
        >
        <div class="payment-details" id="aucDetails">
          <p>
            <strong>Tên chủ tài khoản:</strong>
            <span id="aucAccountName">Lemlem Aderajew</span>
            <button onclick="copyToClipboard('aucAccountName')">Copy</button>
          </p>
          <p>
            <strong>Số tài khoản:</strong>
            <span id="aucAccountNumber">862883062</span>
            <button onclick="copyToClipboard('aucAccountNumber')">Copy</button>
          </p>
          <p>
            <strong>Ngân hàng:</strong>
            <span id="aucBank">National Australia Bank</span>
            <button onclick="copyToClipboard('aucBank')">Copy</button>
          </p>
          <p>
            <strong>BSB:</strong>
            <span id="aucBsb">083520</span>
            <button onclick="copyToClipboard('aucBsb')">Copy</button>
          </p>
          <p>
            <strong>PayID:</strong>
            <span id="aucPayID">0415860268</span>
            <button onclick="copyToClipboard('aucPayID')">Copy</button>
          </p>
          <p><strong>Số tiền cần chuyển:</strong> 39 AUD</p>
        </div>
      </div>

      <!-- Option 3: Xác nhận thanh toán (Visa) -->
      <div class="payment-option">
        <a onclick="showPaymentForm('visa')">Xác nhận thanh toán</a>
        <div class="payment-details" id="visaDetails">
          <p><strong>Số tiền thanh toán:</strong></p>
          <input
            type="number"
            id="amountPaid"
            placeholder="Nhập số tiền bạn đã thanh toán"
            required
          />
          <p>
            <strong>Cách thức thanh toán:</strong> Gửi lên hóa đơn để xác nhận
          </p>
          <label for="invoiceUpload">Gửi Hóa Đơn:</label>
          <input
            type="file"
            id="invoiceUpload"
            accept=".pdf, .jpg, .jpeg, .png"
          />
          <button
            class="submit-btn"
            id="visaSubmit"
            onclick="confirmPayment('visa')"
          >
            Xác Nhận Thanh Toán
          </button>
        </div>
      </div>
    </div>

    <div class="features">
      <div class="feature-item" onclick="featureAction('Báo cáo cá nhân')">
        <i class="fas fa-user"></i> Báo cáo cá nhân
      </div>
      <div class="feature-item" onclick="featureAction('Chi tiết tài khoản')">
        <i class="fas fa-id-card"></i> Chi tiết tài khoản
      </div>
      <div class="feature-item" onclick="featureAction('Lịch sử đánh giá')">
        <i class="fas fa-gamepad"></i> Lịch sử đánh giá
      </div>
      <div class="feature-item" onclick="featureAction('Trung tâm cá nhân')">
        <i class="fas fa-user-circle"></i> Trung tâm cá nhân
      </div>
      <div class="feature-item" onclick="featureAction('Thông báo')">
        <i class="fas fa-bell"></i> Thông báo
      </div>
      <div class="feature-item" onclick="featureAction('Chăm sóc khách hàng')">
        <i class="fas fa-headset"></i> Chăm sóc khách hàng
      </div>
      <!-- Mục mới: Lịch sử dịch vụ -->
      <div class="feature-item" onclick="featureAction('Lịch sử dịch vụ')">
        <i class="fas fa-history"></i> Lịch sử dịch vụ
      </div>
    </div>

    <!-- Modal for Withdraw -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <span class="close" id="modalClose">&times;</span>
        <div id="modalBody"></div>
      </div>
    </div>

    <script>
      // Giả lập dữ liệu người dùng
      var userProfile = { points: 1500, trust: 100 };
      var dailyWithdrawCount = 0;
      var maxWithdrawPerDay = 9999999999;

      // Hàm mở modal với tiêu đề và nội dung HTML
      function openModal(title, htmlContent) {
        var modal = document.getElementById("modal");
        var modalBody = document.getElementById("modalBody");
        modalBody.innerHTML = "<h3>" + title + "</h3>" + htmlContent;
        modal.style.display = "block";
      }

      // Đóng modal khi nhấn nút đóng
      document
        .getElementById("modalClose")
        .addEventListener("click", function () {
          document.getElementById("modal").style.display = "none";
        });

      // Toggle deposit info container when Deposit button is clicked
      document
        .getElementById("depositBtn")
        .addEventListener("click", function () {
          var depositContainer = document.getElementById("depositContainer");
          if (
            depositContainer.style.display === "none" ||
            depositContainer.style.display === ""
          ) {
            depositContainer.style.display = "block";
          } else {
            depositContainer.style.display = "none";
          }
        });

      // Hide deposit info when Withdraw button is clicked (before opening modal)
      document
        .getElementById("withdrawBtn")
        .addEventListener("click", function () {
          document.getElementById("depositContainer").style.display = "none";
        });

      // Show payment details for selected option
      function showPaymentForm(option) {
        var details = document.getElementsByClassName("payment-details");
        for (var i = 0; i < details.length; i++) {
          details[i].style.display = "none";
        }
        var selected = document.getElementById(option + "Details");
        if (selected) {
          selected.style.display = "block";
        }
      }

      // Copy to clipboard function
      function copyToClipboard(elementId) {
        var text = document.getElementById(elementId).innerText;
        navigator.clipboard.writeText(text).then(function () {
          alert("Đã copy: " + text);
        });
      }

      // Xác nhận thanh toán (Visa)
      function confirmPayment(option) {
        if (option === "visa") {
          var amount = document.getElementById("amountPaid").value;
          if (!amount) {
            alert("Vui lòng nhập số tiền thanh toán.");
            return;
          }
          alert("Xác nhận thanh toán " + amount + " thành công!");
        }
      }

      function refreshBalance() {
        alert("Đang làm mới số dư...");
      }

      function refreshTrustPoints() {
        alert("Đang làm mới điểm tín nhiệm...");
      }

      // Xử lý rút tiền qua modal khi nhấn vào nút "Rút tiền"
      document
        .getElementById("withdrawBtn")
        .addEventListener("click", function () {
          var withdrawHtml = `
          <p>
            Số dư khả dụng: <span id="modalBalance" style="color: #3498db;">${userProfile.points}</span>
            <button id="loadData" style="background: #007bff; color: #fff; border: none; border-radius: 4px; padding: 5px 8px; cursor: pointer; margin-left: 10px;">
              <i id="loadIcon" class="fa fa-sync" style="margin-right: 5px;"></i>Load
            </button>
          </p>
          <p style="font-weight: bold;">
            Điểm tín nhiệm: <span id="modalTrust" style="color: #9b59b6;">${userProfile.trust}</span>
          </p>
          <input type="number" id="withdrawAmount" placeholder="Nhập số tiền rút" style="width: 100%; padding: 8px; margin: 10px 0;" />
          <button id="withdrawNow" style="background: #ff2222; color: #fff; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer;">Rút Tiền Ngay</button>
          <p style="margin-top:10px; font-size: 13px; color: #555;">
            Lưu ý:<br>
            - Số lần rút tối đa: 9999999999 lần mỗi ngày.<br>
            - Hạn mức mỗi lần: tối thiểu 10, tối đa 999999999.<br>
            - Thời gian nhận tiền: Thường 5 phút, nhanh nhất 2 phút.
          </p>
          <p style="margin-top:10px; font-size: 14px; color: #555;">
            Vui lòng kiểm tra kỹ thông tin giao dịch. Nếu có thắc mắc, liên hệ bộ phận hỗ trợ để được tư vấn.
          </p>
        `;
          openModal("Rút Tiền", withdrawHtml);

          document
            .getElementById("loadData")
            .addEventListener("click", function () {
              var loadIcon = this.querySelector("i");
              loadIcon.classList.add("fa-spin");
              setTimeout(function () {
                loadIcon.classList.remove("fa-spin");
                alert("Thông tin đã được cập nhật!");
              }, 1000);
            });

          document
            .getElementById("withdrawNow")
            .addEventListener("click", function () {
              var amount = parseFloat(
                document.getElementById("withdrawAmount").value
              );
              if (isNaN(amount) || amount <= 0) {
                alert("Vui lòng nhập số tiền hợp lệ.");
                return;
              }
              if (amount < 10 || amount > 999999999) {
                alert("Số tiền rút phải từ 10 đến 999999999.");
                return;
              }
              if (amount > userProfile.points) {
                alert("Số tiền rút vượt quá số dư khả dụng.");
                return;
              }
              if (dailyWithdrawCount >= maxWithdrawPerDay) {
                alert("Bạn đã đạt giới hạn rút tiền trong ngày.");
                return;
              }
              alert(
                `Yêu cầu rút ${amount} thành công! (Tiền sẽ được chuyển trong khoảng 2-5 phút)`
              );
              document.getElementById("modal").style.display = "none";
              userProfile.points -= amount;
              dailyWithdrawCount++;
              localStorage.setItem("userProfile", JSON.stringify(userProfile));
              localStorage.setItem("dailyWithdrawCount", dailyWithdrawCount);
              // Nếu cần cập nhật giao diện Wallet, bạn có thể làm điều đó ở đây.
            });
        });

      function featureAction(featureName) {
        alert("Bạn đã chọn: " + featureName);

        // Thay đổi màu chữ số dư và điểm tín nhiệm
        var balanceElement = document.querySelector(
          ".wallet .balance .amount strong.green"
        );
        var trustElement = document.querySelector(
          ".wallet .balance .amount strong.red"
        );

        if (balanceElement && trustElement) {
          // Nếu màu hiện tại là màu đã đổi (orange và purple), thì revert về mặc định
          if (balanceElement.style.color === "orange") {
            balanceElement.style.color = "#3498db"; // màu xanh lam (theo class .green)
          } else {
            balanceElement.style.color = "orange";
          }

          if (trustElement.style.color === "purple") {
            trustElement.style.color = "#9b59b6"; // màu tím (theo class .red)
          } else {
            trustElement.style.color = "purple";
          }
        }
      }
      function featureAction(featureName) {
        let expandedContent = "";
        switch (featureName) {
          case "Báo cáo cá nhân":
            expandedContent = `
          <p>Thông tin chi tiết về báo cáo cá nhân:</p>
          <ul>
            <li>Báo cáo hoạt động hàng tháng</li>
            <li>Phân tích số liệu cá nhân</li>
            <li>Báo cáo sự cố và hỗ trợ</li>
          </ul>
        `;
            break;
          case "Chi tiết tài khoản":
            expandedContent = `
          <p>Chi tiết tài khoản của bạn:</p>
          <ul>
            <li>Thông tin cá nhân</li>
            <li>Email và số điện thoại</li>
            <li>Đổi mật khẩu & cài đặt bảo mật</li>
          </ul>
        `;
            break;
          case "Lịch sử đánh giá":
            expandedContent = `
          <p>Lịch sử đánh giá dịch vụ:</p>
          <ul>
            <li>Đánh giá gần đây</li>
            <li>Lịch sử đánh giá theo tháng</li>
            <li>Phản hồi từ người dùng</li>
          </ul>
        `;
            break;
          case "Trung tâm cá nhân":
            expandedContent = `
          <p>Trung tâm cá nhân:</p>
          <ul>
            <li>Quản lý thông tin cá nhân</li>
            <li>Danh sách dịch vụ đã sử dụng</li>
            <li>Cài đặt thông báo & bảo mật</li>
          </ul>
        `;
            break;
          case "Thông báo":
            expandedContent = `
          <p>Thông báo từ hệ thống:</p>
          <ul>
            <li>Thông báo mới nhất</li>
            <li>Lịch sử thông báo</li>
            <li>Cài đặt nhận thông báo</li>
          </ul>
        `;
            break;
          case "Chăm sóc khách hàng":
            expandedContent = `
          <p>Hỗ trợ và chăm sóc khách hàng:</p>
          <ul>
            <li>Liên hệ hỗ trợ trực tuyến</li>
            <li>Câu hỏi thường gặp (FAQ)</li>
            <li>Phản hồi và giải đáp thắc mắc</li>
          </ul>
        `;
            break;
          case "Lịch sử dịch vụ":
            expandedContent = `
          <p>Danh sách các dịch vụ bạn đã sử dụng:</p>
          <ul>
            <li><span class="date">10/02/2025</span> - Nạp tiền: <strong>50.000 Won</strong></li>
            <li><span class="date">09/02/2025</span> - Rút tiền: <strong>50.000 Won</strong></li>
            <li><span class="date">08/02/2025</span> - Xác nhận thanh toán Visa</li>
          </ul>
        `;
            break;
          default:
            expandedContent = `<p>Không có thông tin chi tiết.</p>`;
        }

        // Mở modal với tiêu đề là tên tính năng và nội dung mở rộng
        openModal(featureName, expandedContent);

        // Ví dụ toggle màu của số dư và điểm tín nhiệm khi mở modal
        var balanceElement = document.querySelector(
          ".wallet .balance .amount strong.green"
        );
        var trustElement = document.querySelector(
          ".wallet .balance .amount strong.red"
        );

        if (balanceElement && trustElement) {
          // Toggle màu: nếu đang chuyển sang màu mới thì revert lại mặc định
          if (balanceElement.style.color === "orange") {
            balanceElement.style.color = "#3498db"; // Màu xanh lam mặc định
          } else {
            balanceElement.style.color = "orange";
          }

          if (trustElement.style.color === "purple") {
            trustElement.style.color = "#00806e"; // Màu tím mặc định
          } else {
            trustElement.style.color = "purple";
          }
        }
      }
    </script>
  </body>
</html>
